import{d as a,l as e,o as l,c as s,w as t,b as o,a as u,e as c,v as n,z as r,B as i,G as d,i as p,h as m,I as _,D as f,f as v,H as h,J as w,k as b}from"./index-2ab6fe05.js";import{h as k}from"./http.b6406d93.js";import{_ as g}from"./_plugin-vue_export-helper.1b428a4d.js";const x=""+new URL("logo_icon-fb03ba76.png",import.meta.url).href,y=g(a({__name:"login",setup(a){const g=async()=>{await T();const a=await(e="13123456789",k({method:"POST",url:"/login/wxMin/simple",data:{phoneNumber:e}}));var e;y(a.result)},y=a=>{r().setProfile(a),i({icon:"success",title:"登录成功"}),setTimeout((()=>{d({url:"/pages/my/my"})}),500)},V=e({account:"13123456789",password:""}),j=async()=>{await T();const a=await(e=V.value,k({method:"POST",url:"/login",data:e}));var e;y(a.result)},C=e(!1),P=e(!1),T=()=>{if(!C.value)return i({icon:"none",title:"请先阅读并勾选协议"}),P.value=!0,setTimeout((()=>{P.value=!1}),500),Promise.reject(new Error("请先阅读并勾选协议"))},U=()=>{};return(a,e)=>{const r=p,i=m,d=_,k=f,y=v,T=h,I=w,O=b;return l(),s(i,{class:"viewport"},{default:t((()=>[o(i,{class:"logo"},{default:t((()=>[o(r,{src:x})])),_:1}),o(i,{class:"login"},{default:t((()=>[u(" 网页端表单登录 "),o(d,{modelValue:V.value.account,"onUpdate:modelValue":e[0]||(e[0]=a=>V.value.account=a),class:"input",type:"text",placeholder:"请输入用户名/手机号码"},null,8,["modelValue"]),o(d,{modelValue:V.value.password,"onUpdate:modelValue":e[1]||(e[1]=a=>V.value.password=a),class:"input",type:"text",password:"",placeholder:"请输入密码"},null,8,["modelValue"]),o(k,{onClick:j,class:"button phone"},{default:t((()=>[c("登录")])),_:1}),u(" 小程序端授权登录 "),o(i,{class:"extra"},{default:t((()=>[o(i,{class:"caption"},{default:t((()=>[o(y,null,{default:t((()=>[c("其他登录方式")])),_:1})])),_:1}),o(i,{class:"options"},{default:t((()=>[u(" 通用模拟登录 "),o(k,{onClick:g},{default:t((()=>[o(y,{class:"icon icon-phone"},{default:t((()=>[c("模拟快捷登录")])),_:1})])),_:1})])),_:1})])),_:1}),o(i,{class:n(["tips",{animate__shakeY:P.value}])},{default:t((()=>[o(I,{class:"label",onClick:e[2]||(e[2]=a=>C.value=!C.value)},{default:t((()=>[o(T,{class:"radio",color:"#28bb9c",checked:C.value},null,8,["checked"]),o(y,null,{default:t((()=>[c("登录/注册即视为你同意模拟商城")])),_:1})])),_:1}),o(O,{class:"link","hover-class":"none",url:"./protocal"},{default:t((()=>[c("《服务条款》")])),_:1}),c(" 和 "),o(y,{class:"link",onClick:U},{default:t((()=>[c("《隐私协议》")])),_:1})])),_:1},8,["class"])])),_:1})])),_:1})}}}),[["__scopeId","data-v-c2cb102b"]]);export{y as default};
